
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>手写React-Router源码 · 前端进阶</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Dennis Jiang">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../Node/Node.html" />
    
    
    <link rel="prev" href="React-Router_Usage.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Layout/Layout.html">
            
                <a href="../Layout/Layout.html">
            
                    
                    页面布局
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Layout/Centered.html">
            
                <a href="../Layout/Centered.html">
            
                    
                    居中
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Layout/MultiColumns.html">
            
                <a href="../Layout/MultiColumns.html">
            
                    
                    多列布局
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../JavaScript/JavaScript.html">
            
                <a href="../JavaScript/JavaScript.html">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../JavaScript/MemoryManagement.html">
            
                <a href="../JavaScript/MemoryManagement.html">
            
                    
                    JavaScript内存管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../JavaScript/FunctionalProgramming.html">
            
                <a href="../JavaScript/FunctionalProgramming.html">
            
                    
                    函数式编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../JavaScript/ComposePipe.html">
            
                <a href="../JavaScript/ComposePipe.html">
            
                    
                    compose函数和pipe函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../JavaScript/CommonFunctions.html">
            
                <a href="../JavaScript/CommonFunctions.html">
            
                    
                    一些常用函数-数组扁平化，缓存函数，科里化函数，防抖函数，节流函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../JavaScript/Copy.html">
            
                <a href="../JavaScript/Copy.html">
            
                    
                    浅拷贝和深拷贝
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../JavaScript/UnitTest.html">
            
                <a href="../JavaScript/UnitTest.html">
            
                    
                    单元测试及原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../JavaScript/myPrototype.html">
            
                <a href="../JavaScript/myPrototype.html">
            
                    
                    JS中的面向对象：prototype、__proto__与constructor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../JavaScript/this.html">
            
                <a href="../JavaScript/this.html">
            
                    
                    this指向
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../JavaScript/AsyncAndEventLoop.html">
            
                <a href="../JavaScript/AsyncAndEventLoop.html">
            
                    
                    异步和EventLoop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="../JavaScript/Promise.html">
            
                <a href="../JavaScript/Promise.html">
            
                    
                    手写Promise/A+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="../JavaScript/Generator.html">
            
                <a href="../JavaScript/Generator.html">
            
                    
                    Generator和async/await还有co源码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="../JavaScript/Types.html">
            
                <a href="../JavaScript/Types.html">
            
                    
                    数据类型转换和检测
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="../JavaScript/Scope.html">
            
                <a href="../JavaScript/Scope.html">
            
                    
                    JS作用域
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Network/Network.html">
            
                <a href="../Network/Network.html">
            
                    
                    计算机网络
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../DataStructureAndAlgorithm/RSA.html">
            
                <a href="../DataStructureAndAlgorithm/RSA.html">
            
                    
                    HTTPS和RSA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../Network/HttpCache.html">
            
                <a href="../Network/HttpCache.html">
            
                    
                    轻松理解HTTP缓存策略
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../Vue/Vue.html">
            
                <a href="../Vue/Vue.html">
            
                    
                    Vue.js
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Vue/reactive.html">
            
                <a href="../Vue/reactive.html">
            
                    
                    Vue响应式原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Vue/vueRouter.html">
            
                <a href="../Vue/vueRouter.html">
            
                    
                    Vue-Router原理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="React.html">
            
                <a href="React.html">
            
                    
                    React.js
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="FiberAndHooks.html">
            
                <a href="FiberAndHooks.html">
            
                    
                    手写React的Fiber和Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Redux.html">
            
                <a href="Redux.html">
            
                    
                    手写Redux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="React-Redux.html">
            
                <a href="React-Redux.html">
            
                    
                    手写React-Redux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="Redux-Thunk.html">
            
                <a href="Redux-Thunk.html">
            
                    
                    Redux-Thunk原理及源码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="Redux-Saga.html">
            
                <a href="Redux-Saga.html">
            
                    
                    手写Redux-Saga源码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="React-Router_Usage.html">
            
                <a href="React-Router_Usage.html">
            
                    
                    React-Router实现前端路由鉴权
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.7" data-path="React-Router_Code.html">
            
                <a href="React-Router_Code.html">
            
                    
                    手写React-Router源码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../Node/Node.html">
            
                <a href="../Node/Node.html">
            
                    
                    Node.js
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../Node/DeepInNodeModules.html">
            
                <a href="../Node/DeepInNodeModules.html">
            
                    
                    模块加载机制，手写require
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../Node/HttpServer.html">
            
                <a href="../Node/HttpServer.html">
            
                    
                    使用Node.js原生API写一个web服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../Node/Express.html">
            
                <a href="../Node/Express.html">
            
                    
                    手写Express.js源码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../Node/Koa.html">
            
                <a href="../Node/Koa.html">
            
                    
                    手写Koa源码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../Node/KoaRouter.html">
            
                <a href="../Node/KoaRouter.html">
            
                    
                    手写@koa/router源码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../Node/KoaStatic.html">
            
                <a href="../Node/KoaStatic.html">
            
                    
                    手写koa-static源码，深入理解静态服务器原理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../DesignPatterns/DesignPatterns.html">
            
                <a href="../DesignPatterns/DesignPatterns.html">
            
                    
                    设计模式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../DesignPatterns/PubSub.html">
            
                <a href="../DesignPatterns/PubSub.html">
            
                    
                    从发布订阅模式入手读懂Node.js的EventEmitter源码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../DesignPatterns/Encapsulate.html">
            
                <a href="../DesignPatterns/Encapsulate.html">
            
                    
                    封装代码的设计模式：工厂，建造者，单例，原型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../DesignPatterns/Reusability.html">
            
                <a href="../DesignPatterns/Reusability.html">
            
                    
                    提高复用性的设计模式：桥接，享元，模板方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../DesignPatterns/Extendability.html">
            
                <a href="../DesignPatterns/Extendability.html">
            
                    
                    提高扩展性的设计模式：职责链，观察者，装饰器，适配器，命令，访问者
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../DesignPatterns/Quality.html">
            
                <a href="../DesignPatterns/Quality.html">
            
                    
                    提高代码质量的设计模式：策略/状态，外观，迭代器，备忘录
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../Architecture/Architecture.html">
            
                <a href="../Architecture/Architecture.html">
            
                    
                    架构和源码
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../Architecture/readSourceCode.html">
            
                <a href="../Architecture/readSourceCode.html">
            
                    
                    从架构入手读源码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../Architecture/Undersocre.html">
            
                <a href="../Architecture/Undersocre.html">
            
                    
                    Underscore源码架构
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../Engineering/Engineering.html">
            
                <a href="../Engineering/Engineering.html">
            
                    
                    工程化
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../Engineering/leader.html">
            
                <a href="../Engineering/leader.html">
            
                    
                    前端负责人/架构师职责
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../Engineering/mono-repo.html">
            
                <a href="../Engineering/mono-repo.html">
            
                    
                    mono-repo + react
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../DataStructureAndAlgorithm/DataStructureAndAlgorithm.html">
            
                <a href="../DataStructureAndAlgorithm/DataStructureAndAlgorithm.html">
            
                    
                    数据结构和算法
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../DataStructureAndAlgorithm/Sorting.html">
            
                <a href="../DataStructureAndAlgorithm/Sorting.html">
            
                    
                    排序算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../DataStructureAndAlgorithm/LinkedList.html">
            
                <a href="../DataStructureAndAlgorithm/LinkedList.html">
            
                    
                    链表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../DataStructureAndAlgorithm/Greedy.html">
            
                <a href="../DataStructureAndAlgorithm/Greedy.html">
            
                    
                    贪心算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../DataStructureAndAlgorithm/DP.html">
            
                <a href="../DataStructureAndAlgorithm/DP.html">
            
                    
                    动态规划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="../DataStructureAndAlgorithm/OptimizeVariations.html">
            
                <a href="../DataStructureAndAlgorithm/OptimizeVariations.html">
            
                    
                    三层商品选项优化
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../Projects/Projects.html">
            
                <a href="../Projects/Projects.html">
            
                    
                    实战项目
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../Projects/FractionCalcualator.html">
            
                <a href="../Projects/FractionCalcualator.html">
            
                    
                    分数计算器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../AnnualReview/AnnualReview.html">
            
                <a href="../AnnualReview/AnnualReview.html">
            
                    
                    年终总结
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../AnnualReview/AnnualReview2020.html">
            
                <a href="../AnnualReview/AnnualReview2020.html">
            
                    
                    2020年终总结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>

    
    <li>
        
        
        
            
        
        
            <a href="http://www.beian.miit.gov.cn/" target="blank" class="gitbook-link">
                苏ICP备16008535号
            </a>
        
    </li>
    
</ul>

                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >手写React-Router源码</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><ul><li><span class="title-icon "></span><a href="#&#x7B80;&#x5355;&#x793A;&#x4F8B;"><b></b>&#x7B80;&#x5355;&#x793A;&#x4F8B;</a></li><li><span class="title-icon "></span><a href="#browserrouter&#x6E90;&#x7801;"><b></b>BrowserRouter&#x6E90;&#x7801;</a></li><li><span class="title-icon "></span><a href="#react-router&#x7684;&#x9879;&#x76EE;&#x7ED3;&#x6784;"><b></b>React-Router&#x7684;&#x9879;&#x76EE;&#x7ED3;&#x6784;</a></li><li><span class="title-icon "></span><a href="#react-router&#x67B6;&#x6784;&#x601D;&#x8DEF;"><b></b>React-Router&#x67B6;&#x6784;&#x601D;&#x8DEF;</a></li><li><span class="title-icon "></span><a href="#&#x624B;&#x5199;&#x81EA;&#x5DF1;&#x7684;react-router"><b></b>&#x624B;&#x5199;&#x81EA;&#x5DF1;&#x7684;React-Router</a></li><ul><li><span class="title-icon "></span><a href="#browserrouter&#x7EC4;&#x4EF6;"><b></b>BrowserRouter&#x7EC4;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#react-router&#x7684;router&#x7EC4;&#x4EF6;"><b></b>react-router&#x7684;Router&#x7EC4;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#history"><b></b>history</a></li><li><span class="title-icon "></span><a href="#route&#x7EC4;&#x4EF6;"><b></b>Route&#x7EC4;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#switch&#x7EC4;&#x4EF6;"><b></b>Switch&#x7EC4;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#link&#x7EC4;&#x4EF6;"><b></b>Link&#x7EC4;&#x4EF6;</a></li></ul><li><span class="title-icon "></span><a href="#&#x603B;&#x7ED3;"><b></b>&#x603B;&#x7ED3;</a></li><li><span class="title-icon "></span><a href="#&#x53C2;&#x8003;&#x8D44;&#x6599;"><b></b>&#x53C2;&#x8003;&#x8D44;&#x6599;</a></li></ul></ul></div><p><a href="https://juejin.im/post/5f1a45f2518825742109ec2b" target="_blank">&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x6211;&#x4EEC;&#x8BB2;&#x4E86;<code>React-Router</code>&#x7684;&#x57FA;&#x672C;&#x7528;&#x6CD5;</a>&#xFF0C;&#x5E76;&#x5B9E;&#x73B0;&#x4E86;&#x5E38;&#x89C1;&#x7684;&#x524D;&#x7AEF;&#x8DEF;&#x7531;&#x9274;&#x6743;&#x3002;&#x672C;&#x6587;&#x4F1A;&#x7EE7;&#x7EED;&#x6DF1;&#x5165;<code>React-Router</code>&#x8BB2;&#x8BB2;&#x4ED6;&#x7684;&#x6E90;&#x7801;&#xFF0C;&#x5957;&#x8DEF;&#x8FD8;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x7528;&#x5B98;&#x65B9;&#x7684;API&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x7136;&#x540E;&#x81EA;&#x5DF1;&#x624B;&#x5199;&#x8FD9;&#x4E9B;API&#x6765;&#x66FF;&#x6362;&#x5B98;&#x65B9;&#x7684;&#x5E76;&#x4E14;&#x4FDD;&#x6301;&#x529F;&#x80FD;&#x4E0D;&#x53D8;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x5168;&#x90E8;&#x4EE3;&#x7801;&#x5DF2;&#x7ECF;&#x4E0A;&#x4F20;GitHub&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x62FF;&#x4E0B;&#x6765;&#x73A9;&#x73A9;&#xFF1A;<a href="https://github.com/dennis-jiang/Front-End-Knowledges/tree/master/Examples/React/react-router-code" target="_blank">https://github.com/dennis-jiang/Front-End-Knowledges/tree/master/Examples/React/react-router-code</a></strong></p>
<h2 id="&#x7B80;&#x5355;&#x793A;&#x4F8B;"><a name="&#x7B80;&#x5355;&#x793A;&#x4F8B;" class="anchor-navigation-ex-anchor" href="#&#x7B80;&#x5355;&#x793A;&#x4F8B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B80;&#x5355;&#x793A;&#x4F8B;</h2>
<p>&#x672C;&#x6587;&#x7528;&#x7684;&#x4F8B;&#x5B50;&#x662F;&#x4E0A;&#x7BC7;&#x6587;&#x7AE0;&#x5F00;&#x59CB;&#x90A3;&#x4E2A;&#x4E0D;&#x5E26;&#x9274;&#x6743;&#x7684;&#x7B80;&#x5355;&#x8DEF;&#x7531;&#x8DF3;&#x8F6C;&#x4F8B;&#x5B50;&#xFF0C;&#x8DD1;&#x8D77;&#x6765;&#x662F;&#x8FD9;&#x6837;&#x5B50;&#x7684;&#xFF1A;</p>
<p><img src="../../images/React/React-Router_Code/Jul-10-2020 17-35-36.gif" alt="Jul-10-2020 17-35-36"></p>
<p>&#x6211;&#x4EEC;&#x518D;&#x6765;&#x56DE;&#x987E;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x5728;<code>app.js</code>&#x91CC;&#x9762;&#x6211;&#x4EEC;&#x7528;<code>Route</code>&#x7EC4;&#x4EF6;&#x6E32;&#x67D3;&#x4E86;&#x51E0;&#x4E2A;&#x8DEF;&#x7531;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> {
  BrowserRouter <span class="hljs-keyword">as</span> Router,
  Switch,
  Route,
} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;
<span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./pages/Home&apos;</span>;
<span class="hljs-keyword">import</span> Login <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./pages/Login&apos;</span>;
<span class="hljs-keyword">import</span> Backend <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./pages/Backend&apos;</span>;
<span class="hljs-keyword">import</span> Admin <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./pages/Admin&apos;</span>;


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    &lt;Router&gt;
      &lt;Switch&gt;
        &lt;Route path=&quot;/login&quot; component={Login}/&gt;
        &lt;Route path=&quot;/backend&quot; component={Backend}/&gt;
        &lt;Route path=&quot;/admin&quot; component={Admin}/&gt;
        &lt;Route path=&quot;/&quot; component={Home}/&gt;
      &lt;/Switch&gt;
    &lt;/Router&gt;
  );
}

export default App;
</code></pre>
<p>&#x6BCF;&#x4E2A;&#x9875;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x6807;&#x9898;&#x548C;&#x56DE;&#x9996;&#x9875;&#x7684;&#x94FE;&#x63A5;&#xFF0C;&#x6BD4;&#x5982;&#x767B;&#x5F55;&#x9875;&#x957F;&#x8FD9;&#x6837;&#xFF0C;&#x5176;&#x4ED6;&#x51E0;&#x4E2A;&#x9875;&#x9762;&#x7C7B;&#x4F3C;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> { Link } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-router-dom&apos;</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Login</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#x767B;&#x5F55;&#x9875;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/&quot;</span>&gt;</span>&#x56DE;&#x9996;&#x9875;<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span>
  );
}

export default Login;
</span></code></pre>
<p>&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x6700;&#x7B80;&#x5355;&#x7684;<code>React-Router</code>&#x7684;&#x5E94;&#x7528;&#x793A;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x5206;&#x6790;&#x4E0B;&#x6211;&#x4EEC;&#x7528;&#x5230;&#x4E86;&#x4ED6;&#x7684;&#x54EA;&#x4E9B;API&#xFF0C;&#x8FD9;&#x4E9B;API&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x4ECA;&#x5929;&#x8981;&#x624B;&#x5199;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x4ED4;&#x7EC6;&#x4E00;&#x770B;&#xFF0C;&#x6211;&#x4EEC;&#x597D;&#x50CF;&#x53EA;&#x7528;&#x5230;&#x4E86;&#x51E0;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x8FD9;&#x51E0;&#x4E2A;&#x7EC4;&#x4EF6;&#x90FD;&#x662F;&#x4ECE;<code>react-router-dom</code>&#x5BFC;&#x51FA;&#x6765;&#x7684;&#xFF1A;</p>
<blockquote>
<p><strong>BrowserRouter</strong>: &#x88AB;&#x6211;&#x4EEC;&#x91CD;&#x547D;&#x540D;&#x4E3A;&#x4E86;<code>Router</code>&#xFF0C;&#x4ED6;&#x5305;&#x88F9;&#x4E86;&#x6574;&#x4E2A;<code>React-Router</code>&#x5E94;&#x7528;&#xFF0C;&#x611F;&#x89C9;&#x8DDF;<a href="https://juejin.im/post/5f0595f75188252e415f5519" target="_blank">&#x4EE5;&#x524D;&#x5199;&#x8FC7;&#x7684;<code>react-redux</code>&#x7684;<code>Provider</code>&#x7C7B;&#x4F3C;</a>&#xFF0C;&#x6211;&#x731C;&#x662F;&#x7528;&#x6765;&#x6CE8;&#x5165;<code>context</code>&#x4E4B;&#x7C7B;&#x7684;&#x3002;</p>
<p><strong>Route</strong>: &#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x662F;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x5177;&#x4F53;&#x7684;&#x8DEF;&#x7531;&#x7684;&#xFF0C;&#x63A5;&#x6536;&#x8DEF;&#x7531;&#x5730;&#x5740;<code>path</code>&#x548C;&#x5BF9;&#x5E94;&#x6E32;&#x67D3;&#x7684;&#x7EC4;&#x4EF6;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;</p>
<p><strong>Switch</strong>&#xFF1A;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x662F;&#x7528;&#x6765;&#x8BBE;&#x7F6E;&#x5339;&#x914D;&#x6A21;&#x5F0F;&#x7684;&#xFF0C;&#x4E0D;&#x52A0;&#x8FD9;&#x4E2A;&#x7684;&#x8BDD;&#xFF0C;&#x5982;&#x679C;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x5339;&#x914D;&#x5230;&#x4E86;&#x591A;&#x4E2A;&#x8DEF;&#x7531;&#xFF0C;&#x8FD9;&#x51E0;&#x4E2A;&#x8DEF;&#x7531;&#x90FD;&#x4F1A;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#xFF0C;&#x52A0;&#x4E86;&#x8FD9;&#x4E2A;&#x53EA;&#x4F1A;&#x6E32;&#x67D3;&#x5339;&#x914D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x7EC4;&#x4EF6;&#x3002;</p>
<p><strong>Link</strong>&#xFF1A;&#x8FD9;&#x4E2A;&#x662F;&#x7528;&#x6765;&#x6DFB;&#x52A0;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x7684;&#xFF0C;&#x529F;&#x80FD;&#x7C7B;&#x4F3C;&#x4E8E;&#x539F;&#x751F;&#x7684;<code>a</code>&#x6807;&#x7B7E;&#xFF0C;&#x6211;&#x731C;&#x4ED6;&#x91CC;&#x9762;&#x4E5F;&#x662F;&#x5C01;&#x88C5;&#x4E86;&#x4E00;&#x4E2A;<code>a</code>&#x6807;&#x7B7E;&#x3002;</p>
</blockquote>
<h2 id="browserrouter&#x6E90;&#x7801;"><a name="browserrouter&#x6E90;&#x7801;" class="anchor-navigation-ex-anchor" href="#browserrouter&#x6E90;&#x7801;"><i class="fa fa-link" aria-hidden="true"></i></a>BrowserRouter&#x6E90;&#x7801;</h2>
<p>&#x6211;&#x4EEC;&#x4EE3;&#x7801;&#x91CC;&#x9762;&#x6700;&#x5916;&#x5C42;&#x7684;&#x5C31;&#x662F;<code>BrowserRouter</code>&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x53BB;&#x770B;&#x770B;&#x4ED6;&#x7684;&#x6E90;&#x7801;&#x5E72;&#x4E86;&#x5565;&#xFF0C;&#x5730;&#x5740;&#x4F20;&#x9001;&#x95E8;&#xFF1A;<a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/modules/BrowserRouter.js" target="_blank">https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/modules/BrowserRouter.js</a></p>
<p>&#x770B;&#x4E86;&#x4ED6;&#x7684;&#x6E90;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;<code>BrowserRouter</code>&#x4EE3;&#x7801;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x58F3;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> { Router } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router&quot;</span>;
<span class="hljs-keyword">import</span> { createBrowserHistory <span class="hljs-keyword">as</span> createHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;history&quot;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BrowserRouter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  history = createHistory(<span class="hljs-keyword">this</span>.props);

  render() {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span> <span class="hljs-attr">history</span>=<span class="hljs-string">{this.history}</span> <span class="hljs-attr">children</span>=<span class="hljs-string">{this.props.children}</span> /&gt;</span>;
  }
}
</span></code></pre>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x58F3;&#x91CC;&#x9762;&#x8FD8;&#x5F15;&#x7528;&#x4E86;&#x4E24;&#x4E2A;&#x5E93;<code>react-router</code>&#x548C;<code>history</code>&#xFF0C;<code>BrowserRouter</code>&#x4EC5;&#x4EC5;&#x662F;&#x8C03;&#x7528;<code>history</code>&#x7684;<code>createHistory</code>&#x5F97;&#x5230;&#x4E00;&#x4E2A;<code>history</code>&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x7528;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x6E32;&#x67D3;&#x4E86;<code>react-router</code>&#x7684;<code>Router</code>&#x7EC4;&#x4EF6;&#x3002;&#x770B;&#x8D77;&#x6765;&#x6211;&#x4EEC;&#x8981;&#x641E;&#x61C2;<code>react-router-dom</code>&#x7684;&#x6E90;&#x7801;&#x8FD8;&#x5FC5;&#x987B;&#x5F97;&#x53BB;&#x770B;<code>react-router</code>&#x548C;<code>history</code>&#x7684;&#x6E90;&#x7801;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x624B;&#x4E0A;&#x6709;&#x597D;&#x51E0;&#x4E2A;&#x9700;&#x8981;&#x641E;&#x61C2;&#x7684;&#x5E93;&#x4E86;&#xFF0C;&#x4E3A;&#x4E86;&#x770B;&#x61C2;&#x4ED6;&#x4EEC;&#x7684;&#x6E90;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x5F97;&#x5148;&#x7406;&#x6E05;&#x695A;&#x4ED6;&#x4EEC;&#x7684;&#x7ED3;&#x6784;&#x5173;&#x7CFB;&#x3002;</p>
<h2 id="react-router&#x7684;&#x9879;&#x76EE;&#x7ED3;&#x6784;"><a name="react-router&#x7684;&#x9879;&#x76EE;&#x7ED3;&#x6784;" class="anchor-navigation-ex-anchor" href="#react-router&#x7684;&#x9879;&#x76EE;&#x7ED3;&#x6784;"><i class="fa fa-link" aria-hidden="true"></i></a>React-Router&#x7684;&#x9879;&#x76EE;&#x7ED3;&#x6784;</h2>
<p><code>React-Router</code>&#x7684;&#x7ED3;&#x6784;&#x662F;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;<code>monorepo</code>&#xFF0C;<code>monorepo</code>&#x8FD9;&#x4E24;&#x5E74;&#x5F00;&#x59CB;&#x6D41;&#x884C;&#x4E86;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x6BD4;&#x8F83;&#x65B0;&#x7684;&#x591A;&#x9879;&#x76EE;&#x7BA1;&#x7406;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0E;&#x4E4B;&#x76F8;&#x5BF9;&#x7684;&#x662F;&#x4F20;&#x7EDF;&#x7684;<code>multi-repo</code>&#x3002;&#x6BD4;&#x5982;<code>React-Router</code>&#x7684;&#x9879;&#x76EE;&#x7ED3;&#x6784;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p>
<p><img src="../../images/React/React-Router_Code/image-20200727172427353.png" alt="image-20200727172427353" style="zoom:33%;"></p>
<p>&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x7684;<code>packages</code>&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x9762;&#x6709;&#x56DB;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x8FD9;&#x56DB;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x6BCF;&#x4E2A;&#x90FD;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x9879;&#x76EE;&#x53D1;&#x5E03;&#x3002;&#x4E4B;&#x6240;&#x4EE5;&#x628A;&#x4ED6;&#x4EEC;&#x653E;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x4ED6;&#x4EEC;&#x4E4B;&#x524D;&#x6709;&#x5F88;&#x5F3A;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF1A;</p>
<blockquote>
<p><strong>react-router</strong>&#xFF1A;&#x662F;<code>React-Router</code>&#x7684;&#x6838;&#x5FC3;&#x5E93;&#xFF0C;&#x5904;&#x7406;&#x4E00;&#x4E9B;&#x5171;&#x7528;&#x7684;&#x903B;&#x8F91;</p>
<p><strong>react-router-config</strong>&#xFF1A;&#x662F;<code>React-Router</code>&#x7684;&#x914D;&#x7F6E;&#x5904;&#x7406;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x4E0D;&#x9700;&#x8981;&#x4F7F;&#x7528;</p>
<p><strong>react-router-dom</strong>&#xFF1A;&#x6D4F;&#x89C8;&#x5668;&#x4E0A;&#x4F7F;&#x7528;&#x7684;&#x5E93;&#xFF0C;&#x4F1A;&#x5F15;&#x7528;<code>react-router</code>&#x6838;&#x5FC3;&#x5E93;</p>
<p><strong>react-router-native</strong>&#xFF1A;&#x652F;&#x6301;<code>React-Native</code>&#x7684;&#x8DEF;&#x7531;&#x5E93;&#xFF0C;&#x4E5F;&#x4F1A;&#x5F15;&#x7528;<code>react-router</code>&#x6838;&#x5FC3;&#x5E93;</p>
</blockquote>
<p>&#x50CF;&#x8FD9;&#x6837;&#x591A;&#x4E2A;&#x4ED3;&#x5E93;&#xFF0C;&#x53D1;&#x5E03;&#x591A;&#x4E2A;&#x5305;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4F20;&#x7EDF;&#x6A21;&#x5F0F;&#x662F;&#x7ED9;&#x6BCF;&#x4E2A;&#x5E93;&#x90FD;&#x5EFA;&#x4E00;&#x4E2A;<code>git repo</code>&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x88AB;&#x79F0;&#x4E3A;<code>multi-repo</code>&#x3002;&#x50CF;<code>React-Router</code>&#x8FD9;&#x6837;&#x5C06;&#x591A;&#x4E2A;&#x5E93;&#x653E;&#x5728;&#x540C;&#x4E00;&#x4E2A;<code>git repo</code>&#x91CC;&#x9762;&#x7684;&#x5C31;&#x662F;<code>monorepo</code>&#x3002;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x597D;&#x5904;&#x662F;&#x5982;&#x679C;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;BUG&#x6216;&#x8005;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x529F;&#x80FD;&#xFF0C;&#x9700;&#x8981;&#x540C;&#x65F6;&#x6539;<code>react-router</code>&#x548C;<code>react-router-dom</code>&#xFF0C;<code>monorepo</code>&#x53EA;&#x9700;&#x8981;&#x4E00;&#x4E2A;<code>commit</code>&#x4E00;&#x6B21;&#x6027;&#x5C31;&#x6539;&#x597D;&#x4E86;&#xFF0C;&#x53D1;&#x5E03;&#x4E5F;&#x53EF;&#x4EE5;&#x4E00;&#x8D77;&#x53D1;&#x5E03;&#x3002;&#x5982;&#x679C;&#x662F;<code>multi-repo</code>&#x5219;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E24;&#x4E2A;<code>repo</code>&#xFF0C;&#x7136;&#x540E;&#x5206;&#x522B;&#x53D1;&#x5E03;&#x4E24;&#x4E2A;<code>repo</code>&#xFF0C;&#x53D1;&#x5E03;&#x7684;&#x65F6;&#x5019;&#x8FD8;&#x8981;&#x534F;&#x8C03;&#x4E24;&#x4E2A;<code>repo</code>&#x4E4B;&#x95F4;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x3002;&#x6240;&#x4EE5;&#x73B0;&#x5728;&#x5F88;&#x591A;&#x5F00;&#x6E90;&#x5E93;&#x90FD;&#x4F7F;&#x7528;<code>monorepo</code>&#x6765;&#x5C06;&#x4F9D;&#x8D56;&#x5F88;&#x5F3A;&#x7684;&#x6A21;&#x5757;&#x653E;&#x5728;&#x4E00;&#x4E2A;<code>repo</code>&#x91CC;&#x9762;&#xFF0C;&#x6BD4;&#x5982;<a href="https://github.com/facebook/react" target="_blank">React&#x6E90;&#x7801;</a>&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;<code>monorepo</code>&#x3002;</p>
<p><img src="../../images/React/React-Router_Code/image-20200727174904352.png" alt="image-20200727174904352" style="zoom:33%;"></p>
<p><code>yarn</code>&#x6709;&#x4E00;&#x4E2A;<code>workspaces</code>&#x53EF;&#x4EE5;&#x652F;&#x6301;<code>monorepo</code>&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x9700;&#x8981;&#x5728;<code>package.json</code>&#x91CC;&#x9762;&#x914D;&#x7F6E;<code>workspaces</code>&#xFF0C;&#x6BD4;&#x5982;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-string">&quot;workspaces&quot;</span>: {
    <span class="hljs-string">&quot;packages&quot;</span>: [
      <span class="hljs-string">&quot;packages/*&quot;</span>
    ]
  }
</code></pre>
<p>&#x626F;&#x8FDC;&#x4E86;&#xFF0C;<code>monorepo</code>&#x53EF;&#x4EE5;&#x540E;&#x9762;&#x5355;&#x72EC;&#x5F00;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x6765;&#x8BB2;&#xFF0C;&#x8FD9;&#x91CC;&#x8BB2;&#x8FD9;&#x4E2A;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x8BF4;&#x660E;<code>React-Router</code>&#x5206;&#x62C6;&#x6210;&#x4E86;&#x591A;&#x4E2A;&#x5305;&#xFF0C;&#x8FD9;&#x4E9B;&#x5305;&#x4E4B;&#x95F4;&#x662F;&#x6709;&#x6BD4;&#x8F83;&#x5F3A;&#x7684;&#x4F9D;&#x8D56;&#x7684;&#x3002;</p>
<p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x8FD8;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x5E93;&#x662F;<code>history</code>&#xFF0C;&#x8FD9;&#x4E2A;&#x5E93;&#x6CA1;&#x5728;<code>React-Router</code>&#x7684;<code>monorepo</code>&#x91CC;&#x9762;&#xFF0C;&#x800C;&#x662F;&#x5355;&#x72EC;&#x7684;&#x4E00;&#x4E2A;&#x5E93;&#xFF0C;&#x56E0;&#x4E3A;&#x5B98;&#x65B9;&#x628A;&#x4ED6;&#x5199;&#x7684;&#x529F;&#x80FD;&#x5F88;&#x72EC;&#x7ACB;&#x4E86;&#xFF0C;&#x4E0D;&#x4E00;&#x5B9A;&#x975E;&#x8981;&#x7ED3;&#x5408;<code>React-Router</code>&#x4F7F;&#x7528;&#xFF0C;&#x5728;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3002;</p>
<h2 id="react-router&#x67B6;&#x6784;&#x601D;&#x8DEF;"><a name="react-router&#x67B6;&#x6784;&#x601D;&#x8DEF;" class="anchor-navigation-ex-anchor" href="#react-router&#x67B6;&#x6784;&#x601D;&#x8DEF;"><i class="fa fa-link" aria-hidden="true"></i></a>React-Router&#x67B6;&#x6784;&#x601D;&#x8DEF;</h2>
<p>&#x6211;&#x4E4B;&#x524D;&#x53E6;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x8BB2;<a href="https://juejin.im/post/5e255dd76fb9a0301572944a#heading-3" target="_blank">Vue-Router&#x7684;&#x539F;&#x7406;</a>&#x63D0;&#x5230;&#x8FC7;&#xFF0C;&#x524D;&#x7AEF;&#x8DEF;&#x7531;&#x5B9E;&#x73B0;&#x65E0;&#x975E;&#x8FD9;&#x51E0;&#x4E2A;&#x5173;&#x952E;&#x70B9;&#xFF1A;</p>
<blockquote>
<ol>
<li>&#x76D1;&#x542C;URL&#x7684;&#x6539;&#x53D8;</li>
<li>&#x6539;&#x53D8;vue-router&#x91CC;&#x9762;&#x7684;current&#x53D8;&#x91CF;</li>
<li>&#x76D1;&#x89C6;current&#x53D8;&#x91CF;</li>
<li>&#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x7684;&#x7EC4;&#x4EF6;</li>
<li>render&#x65B0;&#x7EC4;&#x4EF6;</li>
</ol>
</blockquote>
<p>&#x5176;&#x5B9E;<code>React-Router</code>&#x7684;&#x601D;&#x8DEF;&#x4E5F;&#x662F;&#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x53EA;&#x662F;<code>React-Router</code>&#x5C06;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#x62C6;&#x5206;&#x5F97;&#x66F4;&#x6563;&#xFF0C;&#x76D1;&#x542C;URL&#x53D8;&#x5316;&#x72EC;&#x7ACB;&#x6210;&#x4E86;history&#x5E93;&#xFF0C;vue-router&#x91CC;&#x9762;&#x7684;<code>current</code>&#x53D8;&#x91CF;&#x5728;React&#x91CC;&#x9762;&#x662F;&#x7528;<code>Context API</code>&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x653E;&#x5230;&#x4E86;&#x6838;&#x5FC3;&#x5E93;<code>react-router</code>&#x91CC;&#x9762;&#xFF0C;&#x4E00;&#x4E9B;&#x8DDF;&#x5E73;&#x53F0;&#x76F8;&#x5173;&#x7684;&#x7EC4;&#x4EF6;&#x5219;&#x653E;&#x5230;&#x4E86;&#x5BF9;&#x5E94;&#x7684;&#x5E73;&#x53F0;&#x5E93;<code>react-router-dom</code>&#x6216;&#x8005;<code>react-router-native</code>&#x91CC;&#x9762;&#x3002;&#x6309;&#x7167;&#x8FD9;&#x4E2A;&#x601D;&#x8DEF;&#xFF0C;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5199;&#x7684;<code>React-Router</code>&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x9762;&#x4E5F;&#x5EFA;&#x51E0;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF1A;</p>
<p><img src="../../images/React/React-Router_Code/image-20200728155030839.png" alt="image-20200728155030839"></p>
<h2 id="&#x624B;&#x5199;&#x81EA;&#x5DF1;&#x7684;react-router"><a name="&#x624B;&#x5199;&#x81EA;&#x5DF1;&#x7684;react-router" class="anchor-navigation-ex-anchor" href="#&#x624B;&#x5199;&#x81EA;&#x5DF1;&#x7684;react-router"><i class="fa fa-link" aria-hidden="true"></i></a>&#x624B;&#x5199;&#x81EA;&#x5DF1;&#x7684;React-Router</h2>
<p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x987A;&#x7740;&#x8FD9;&#x4E2A;&#x601D;&#x8DEF;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x7684;&#x5C06;&#x6211;&#x4EEC;&#x4EE3;&#x7801;&#x91CC;&#x9762;&#x7528;&#x5230;&#x7684;API&#x66FF;&#x6362;&#x6210;&#x81EA;&#x5DF1;&#x7684;&#x3002;</p>
<h3 id="browserrouter&#x7EC4;&#x4EF6;"><a name="browserrouter&#x7EC4;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#browserrouter&#x7EC4;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>BrowserRouter&#x7EC4;&#x4EF6;</h3>
<p><code>BrowserRouter</code>&#x8FD9;&#x4E2A;&#x4EE3;&#x7801;&#x524D;&#x9762;&#x770B;&#x8FC7;&#xFF0C;&#x76F4;&#x63A5;&#x6284;&#x8FC7;&#x6765;&#x5C31;&#x884C;:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> { Router } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router&quot;</span>;
<span class="hljs-keyword">import</span> { createBrowserHistory <span class="hljs-keyword">as</span> createHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;history&quot;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BrowserRouter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  history = createHistory(<span class="hljs-keyword">this</span>.props);

  render() {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span> <span class="hljs-attr">history</span>=<span class="hljs-string">{this.history}</span> <span class="hljs-attr">children</span>=<span class="hljs-string">{this.props.children}</span> /&gt;</span>;
  }
}

export default BrowserRouter;
</span></code></pre>
<h3 id="react-router&#x7684;router&#x7EC4;&#x4EF6;"><a name="react-router&#x7684;router&#x7EC4;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#react-router&#x7684;router&#x7EC4;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>react-router&#x7684;Router&#x7EC4;&#x4EF6;</h3>
<p>&#x4E0A;&#x9762;&#x7684;<code>BrowserRouter</code>&#x7528;&#x5230;&#x4E86;<code>react-router</code>&#x7684;<code>Router</code>&#x7EC4;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x548C;<code>React-Native</code>&#x7AEF;&#x90FD;&#x6709;&#x4F7F;&#x7528;&#xFF0C;&#x4E3B;&#x8981;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x5E76;&#x901A;&#x8FC7;<code>Context API</code>&#x5C06;&#x5B83;&#x4F20;&#x9012;&#x4E0B;&#x53BB;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-keyword">import</span> HistoryContext <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./HistoryContext.js&quot;</span>;
<span class="hljs-keyword">import</span> RouterContext <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./RouterContext.js&quot;</span>;

<span class="hljs-comment">/**
 * The public API for putting history on context.
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Router</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  <span class="hljs-comment">// &#x9759;&#x6001;&#x65B9;&#x6CD5;&#xFF0C;&#x68C0;&#x6D4B;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x662F;&#x5426;&#x5339;&#x914D;</span>
  <span class="hljs-keyword">static</span> computeRootMatch(pathname) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-attr">params</span>: {}, <span class="hljs-attr">isExact</span>: pathname === <span class="hljs-string">&quot;/&quot;</span> };
  }

  <span class="hljs-keyword">constructor</span>(props) {
    <span class="hljs-keyword">super</span>(props);

    <span class="hljs-keyword">this</span>.state = {
      <span class="hljs-attr">location</span>: props.history.location     <span class="hljs-comment">// &#x5C06;history&#x7684;location&#x6302;&#x8F7D;&#x5230;state&#x4E0A;</span>
    };

    <span class="hljs-comment">// &#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#x662F;&#x9632;&#x5FA1;&#x6027;&#x4EE3;&#x7801;&#xFF0C;&#x9632;&#x6B62;&#x6839;&#x7EC4;&#x4EF6;&#x8FD8;&#x6CA1;&#x6E32;&#x67D3;location&#x5C31;&#x53D8;&#x4E86;</span>
    <span class="hljs-comment">// &#x5982;&#x679C;location&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x5F53;&#x524D;&#x6839;&#x7EC4;&#x4EF6;&#x8FD8;&#x6CA1;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#xFF0C;&#x5C31;&#x5148;&#x8BB0;&#x4E0B;&#x4ED6;&#xFF0C;&#x7B49;&#x5F53;&#x524D;&#x7EC4;&#x4EF6;mount&#x4E86;&#x518D;&#x8BBE;&#x7F6E;&#x5230;state&#x4E0A;</span>
    <span class="hljs-keyword">this</span>._isMounted = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">this</span>._pendingLocation = <span class="hljs-literal">null</span>;

    <span class="hljs-comment">// &#x901A;&#x8FC7;history&#x76D1;&#x542C;&#x8DEF;&#x7531;&#x53D8;&#x5316;&#xFF0C;&#x53D8;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6539;&#x53D8;state&#x4E0A;&#x7684;location</span>
    <span class="hljs-keyword">this</span>.unlisten = props.history.listen(<span class="hljs-function"><span class="hljs-params">location</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMounted) {
        <span class="hljs-keyword">this</span>.setState({ location });
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>._pendingLocation = location;
      }
    });
  }

  componentDidMount() {
    <span class="hljs-keyword">this</span>._isMounted = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._pendingLocation) {
      <span class="hljs-keyword">this</span>.setState({ <span class="hljs-attr">location</span>: <span class="hljs-keyword">this</span>._pendingLocation });
    }
  }

  componentWillUnmount() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.unlisten) {
      <span class="hljs-keyword">this</span>.unlisten();
      <span class="hljs-keyword">this</span>._isMounted = <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">this</span>._pendingLocation = <span class="hljs-literal">null</span>;
    }
  }

  render() {
    <span class="hljs-comment">// render&#x7684;&#x5185;&#x5BB9;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5C31;&#x662F;&#x4E24;&#x4E2A;context</span>
    <span class="hljs-comment">// &#x4E00;&#x4E2A;&#x662F;&#x8DEF;&#x7531;&#x7684;&#x76F8;&#x5173;&#x5C5E;&#x6027;&#xFF0C;&#x5305;&#x62EC;history&#x548C;location&#x7B49;</span>
    <span class="hljs-comment">// &#x4E00;&#x4E2A;&#x53EA;&#x5305;&#x542B;history&#x4FE1;&#x606F;&#xFF0C;&#x540C;&#x65F6;&#x5C06;&#x5B50;&#x7EC4;&#x4EF6;&#x901A;&#x8FC7;children&#x6E32;&#x67D3;&#x51FA;&#x6765;</span>
    <span class="hljs-keyword">return</span> (
      &lt;RouterContext.Provider
        value={{
          history: this.props.history,
          location: this.state.location,
          match: Router.computeRootMatch(this.state.location.pathname),
        }}
      &gt;
        &lt;HistoryContext.Provider
          children={this.props.children || null}
          value={this.props.history}
        /&gt;
      &lt;/RouterContext.Provider&gt;
    );
  }
}

export default Router;
</code></pre>
<p><a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/modules/Router.js" target="_blank">&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x662F;&#x6211;&#x7CBE;&#x7B80;&#x8FC7;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x539F;&#x7248;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x8FD9;&#x91CC;&#x3002;</a>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x4E3B;&#x8981;&#x662F;&#x521B;&#x5EFA;&#x4E86;&#x4E24;&#x4E2A;<code>context</code>&#xFF0C;&#x5C06;&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#x548C;<code>history</code>&#x4FE1;&#x606F;&#x653E;&#x5230;&#x4E86;&#x8FD9;&#x4E24;&#x4E2A;<code>context</code>&#x4E0A;&#xFF0C;&#x5176;&#x4ED6;&#x4E5F;&#x6CA1;&#x5E72;&#x5565;&#x4E86;&#x3002;<a href="https://juejin.im/post/5f0595f75188252e415f5519#heading-1" target="_blank">&#x5173;&#x4E8E;React&#x7684;<code>Context API</code>&#x6211;&#x5728;&#x53E6;&#x5916;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x8BE6;&#x7EC6;&#x8BB2;&#x8FC7;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#x4E86;&#x3002;</a></p>
<h3 id="history"><a name="history" class="anchor-navigation-ex-anchor" href="#history"><i class="fa fa-link" aria-hidden="true"></i></a>history</h3>
<p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x5176;&#x5B9E;&#x7528;&#x5230;&#x4E86;history&#x7684;&#x4E09;&#x4E2A;API&#xFF1A;</p>
<blockquote>
<p><strong>createBrowserHistory</strong>: &#x8FD9;&#x4E2A;&#x662F;&#x7528;&#x5728;BrowserRouter&#x91CC;&#x9762;&#x7684;&#xFF0C;&#x7528;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;history&#x5BF9;&#x8C61;&#xFF0C;&#x540E;&#x9762;&#x7684;listen&#x548C;unlisten&#x90FD;&#x662F;&#x6302;&#x8F7D;&#x5728;&#x8FD9;&#x4E2A;API&#x7684;&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#x4E0A;&#x9762;&#x7684;&#x3002;</p>
<p><strong>history.listen</strong>&#xFF1A;&#x8FD9;&#x4E2A;&#x662F;&#x7528;&#x5728;Router&#x7EC4;&#x4EF6;&#x91CC;&#x9762;&#x7684;&#xFF0C;&#x7528;&#x6765;&#x76D1;&#x542C;&#x8DEF;&#x7531;&#x53D8;&#x5316;&#x3002;</p>
<p><strong>history.unlisten</strong>&#xFF1A;&#x8FD9;&#x4E2A;&#x4E5F;&#x662F;&#x5728;Router&#x7EC4;&#x4EF6;&#x91CC;&#x9762;&#x7528;&#x7684;&#xFF0C;&#x662F;<code>listen</code>&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x7528;&#x6765;&#x5728;&#x6E05;&#x7406;&#x7684;&#x65F6;&#x5019;&#x53D6;&#x6D88;&#x76D1;&#x542C;&#x7684;&#x3002;</p>
</blockquote>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;history:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// &#x521B;&#x5EFA;&#x548C;&#x7BA1;&#x7406;listeners&#x7684;&#x65B9;&#x6CD5;</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createEvents</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> handlers = [];

  <span class="hljs-keyword">return</span> {
    push(fn) {
      handlers.push(fn);
      <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        handlers = handlers.filter(<span class="hljs-function"><span class="hljs-params">handler</span> =&gt;</span> handler !== fn);
      };
    },
    call(arg) {
      handlers.forEach(<span class="hljs-function"><span class="hljs-params">fn</span> =&gt;</span> fn &amp;&amp; fn(arg));
    }
  }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createBrowserHistory</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> listeners = createEvents();
  <span class="hljs-keyword">let</span> location = {
    <span class="hljs-attr">pathname</span>: <span class="hljs-string">&apos;/&apos;</span>,
  };

  <span class="hljs-comment">// &#x8DEF;&#x7531;&#x53D8;&#x5316;&#x65F6;&#x7684;&#x56DE;&#x8C03;</span>
  <span class="hljs-keyword">const</span> handlePop = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> currentLocation = {
      <span class="hljs-attr">pathname</span>: <span class="hljs-built_in">window</span>.location.pathname
    }
    listeners.call(currentLocation);     <span class="hljs-comment">// &#x8DEF;&#x7531;&#x53D8;&#x5316;&#x65F6;&#x6267;&#x884C;&#x56DE;&#x8C03;</span>
  }

  <span class="hljs-comment">// &#x76D1;&#x542C;popstate&#x4E8B;&#x4EF6;</span>
  <span class="hljs-comment">// &#x6CE8;&#x610F;pushState&#x548C;replaceState&#x5E76;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;popstate</span>
  <span class="hljs-comment">// &#x4F46;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x524D;&#x8FDB;&#x540E;&#x9000;&#x4F1A;&#x89E6;&#x53D1;popstate</span>
  <span class="hljs-comment">// &#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x76D1;&#x542C;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x662F;&#x4E3A;&#x4E86;&#x5904;&#x7406;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x524D;&#x8FDB;&#x540E;&#x9000;</span>
  <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&apos;popstate&apos;</span>, handlePop);

  <span class="hljs-comment">// &#x8FD4;&#x56DE;&#x7684;history&#x4E0A;&#x6709;&#x4E2A;listen&#x65B9;&#x6CD5;</span>
  <span class="hljs-keyword">const</span> history = {
    listen(listener) {
      <span class="hljs-keyword">return</span> listeners.push(listener);
    },
    location
  }

  <span class="hljs-keyword">return</span> history;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> createBrowserHistory;
</code></pre>
<p>&#x4E0A;&#x8FF0;<code>history</code>&#x4EE3;&#x7801;&#x662F;&#x8D85;&#x7EA7;&#x7CBE;&#x7B80;&#x7248;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5B98;&#x65B9;&#x6E90;&#x7801;&#x5F88;&#x591A;&#xFF0C;&#x8FD8;&#x652F;&#x6301;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x53EA;&#x62CE;&#x51FA;&#x6765;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#xFF0C;&#x5BF9;&#x5B98;&#x65B9;&#x6E90;&#x7801;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x770B;&#x8FD9;&#x91CC;&#xFF1A;<a href="https://github.com/ReactTraining/history/blob/28c89f4091ae9e1b0001341ea60c629674e83627/packages/history/index.ts#L397" target="_blank">https://github.com/ReactTraining/history/blob/28c89f4091ae9e1b0001341ea60c629674e83627/packages/history/index.ts#L397</a></p>
<h3 id="route&#x7EC4;&#x4EF6;"><a name="route&#x7EC4;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#route&#x7EC4;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>Route&#x7EC4;&#x4EF6;</h3>
<p>&#x6211;&#x4EEC;&#x524D;&#x9762;&#x7684;&#x5E94;&#x7528;&#x91CC;&#x9762;&#x8FD8;&#x6709;&#x4E2A;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x7EC4;&#x4EF6;&#x662F;<code>Route</code>&#x7EC4;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x662F;&#x7528;&#x6765;&#x5339;&#x914D;&#x8DEF;&#x7531;&#x548C;&#x5177;&#x4F53;&#x7684;&#x7EC4;&#x4EF6;&#x7684;&#x3002;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x770B;&#x4F3C;&#x662F;&#x4ECE;<code>react-router-dom</code>&#x91CC;&#x9762;&#x5BFC;&#x51FA;&#x6765;&#x7684;&#xFF0C;&#x5176;&#x5B9E;&#x4ED6;&#x53EA;&#x662F;&#x76F8;&#x5F53;&#x4E8E;&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x8F6C;&#x53D1;&#xFF0C;&#x539F;&#x5C01;&#x4E0D;&#x52A8;&#x7684;&#x8FD4;&#x56DE;&#x4E86;<code>react-router</code>&#x7684;<code>Route</code>&#x7EC4;&#x4EF6;&#xFF1A;</p>
<p><img src="../../images/React/React-Router_Code/image-20200728173934453.png" alt="image-20200728173934453" style="zoom:33%;"></p>
<p>&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x5176;&#x5B9E;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x4F5C;&#x7528;&#xFF0C;&#x5C31;&#x662F;&#x5C06;&#x53C2;&#x6570;&#x4E0A;&#x7684;<code>path</code>&#x62FF;&#x6765;&#x8DDF;&#x5F53;&#x524D;&#x7684;<code>location</code>&#x505A;&#x5BF9;&#x6BD4;&#xFF0C;&#x5982;&#x679C;&#x5339;&#x914D;&#x4E0A;&#x4E86;&#x5C31;&#x6E32;&#x67D3;&#x53C2;&#x6570;&#x4E0A;&#x7684;<code>component</code>&#x5C31;&#x884C;&#x3002;&#x4E3A;&#x4E86;&#x5339;&#x914D;<code>path</code>&#x548C;<code>location</code>&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x8F85;&#x52A9;&#x65B9;&#x6CD5;<code>matchPath</code>&#xFF0C;<a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/modules/matchPath.js" target="_blank">&#x6211;&#x76F4;&#x63A5;&#x4ECE;&#x6E90;&#x7801;&#x6284;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E86;</a>&#x3002;&#x5927;&#x81F4;&#x601D;&#x8DEF;&#x662F;&#x5C06;&#x6211;&#x4EEC;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;<code>path</code>&#x8F6C;&#x6210;&#x4E00;&#x4E2A;&#x6B63;&#x5219;&#xFF0C;&#x7136;&#x540E;&#x7528;&#x8FD9;&#x4E2A;&#x6B63;&#x5219;&#x53BB;&#x5339;&#x914D;&#x5F53;&#x524D;&#x7684;<code>pathname</code>&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> pathToRegexp <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;path-to-regexp&quot;</span>;

<span class="hljs-keyword">const</span> cache = {};
<span class="hljs-keyword">const</span> cacheLimit = <span class="hljs-number">10000</span>;
<span class="hljs-keyword">let</span> cacheCount = <span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compilePath</span>(<span class="hljs-params">path, options</span>) </span>{
  <span class="hljs-keyword">const</span> cacheKey = <span class="hljs-string">`<span class="hljs-subst">${options.end}</span><span class="hljs-subst">${options.strict}</span><span class="hljs-subst">${options.sensitive}</span>`</span>;
  <span class="hljs-keyword">const</span> pathCache = cache[cacheKey] || (cache[cacheKey] = {});

  <span class="hljs-keyword">if</span> (pathCache[path]) <span class="hljs-keyword">return</span> pathCache[path];

  <span class="hljs-keyword">const</span> keys = [];
  <span class="hljs-keyword">const</span> regexp = pathToRegexp(path, keys, options);
  <span class="hljs-keyword">const</span> result = { regexp, keys };

  <span class="hljs-keyword">if</span> (cacheCount &lt; cacheLimit) {
    pathCache[path] = result;
    cacheCount++;
  }

  <span class="hljs-keyword">return</span> result;
}

<span class="hljs-comment">/**
 * Public API for matching a URL pathname to a path.
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matchPath</span>(<span class="hljs-params">pathname, options = {}</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options === <span class="hljs-string">&quot;string&quot;</span> || <span class="hljs-built_in">Array</span>.isArray(options)) {
    options = { <span class="hljs-attr">path</span>: options };
  }

  <span class="hljs-keyword">const</span> { path, exact = <span class="hljs-literal">false</span>, strict = <span class="hljs-literal">false</span>, sensitive = <span class="hljs-literal">false</span> } = options;

  <span class="hljs-keyword">const</span> paths = [].concat(path);

  <span class="hljs-keyword">return</span> paths.reduce(<span class="hljs-function">(<span class="hljs-params">matched, path</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (!path &amp;&amp; path !== <span class="hljs-string">&quot;&quot;</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (matched) <span class="hljs-keyword">return</span> matched;

    <span class="hljs-keyword">const</span> { regexp, keys } = compilePath(path, {
      <span class="hljs-attr">end</span>: exact,
      strict,
      sensitive
    });
    <span class="hljs-keyword">const</span> match = regexp.exec(pathname);

    <span class="hljs-keyword">if</span> (!match) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;

    <span class="hljs-keyword">const</span> [url, ...values] = match;
    <span class="hljs-keyword">const</span> isExact = pathname === url;

    <span class="hljs-keyword">if</span> (exact &amp;&amp; !isExact) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;

    <span class="hljs-keyword">return</span> {
      path, <span class="hljs-comment">// the path used to match</span>
      url: path === <span class="hljs-string">&quot;/&quot;</span> &amp;&amp; url === <span class="hljs-string">&quot;&quot;</span> ? <span class="hljs-string">&quot;/&quot;</span> : url, <span class="hljs-comment">// the matched portion of the URL</span>
      isExact, <span class="hljs-comment">// whether or not we matched exactly</span>
      params: keys.reduce(<span class="hljs-function">(<span class="hljs-params">memo, key, index</span>) =&gt;</span> {
        memo[key.name] = values[index];
        <span class="hljs-keyword">return</span> memo;
      }, {})
    };
  }, <span class="hljs-literal">null</span>);
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> matchPath;
</code></pre>
<p>&#x7136;&#x540E;&#x662F;<code>Route</code>&#x7EC4;&#x4EF6;&#xFF0C;&#x8C03;&#x7528;&#x4E0B;<code>matchPath</code>&#x6765;&#x770B;&#x4E0B;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x662F;&#x5426;&#x5339;&#x914D;&#x5C31;&#x884C;&#x4E86;&#xFF0C;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x8BB0;&#x5F97;&#x4ECE;<code>RouterContext</code>&#x91CC;&#x9762;&#x62FF;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-keyword">import</span> RouterContext <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./RouterContext.js&quot;</span>;
<span class="hljs-keyword">import</span> matchPath <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./matchPath.js&quot;</span>;

<span class="hljs-comment">/**
 * The public API for matching a single path and rendering.
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Route</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  render() {
    <span class="hljs-keyword">return</span> (
      &lt;RouterContext.Consumer&gt;
        {context =&gt; {
          // &#x4ECE;RouterContext&#x83B7;&#x53D6;location
          const location = context.location;
          const match = matchPath(location.pathname, this.props);  // &#x8C03;&#x7528;matchPath&#x68C0;&#x6D4B;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x662F;&#x5426;&#x5339;&#x914D;

          const props = { ...context, location, match };

          let { component } = this.props;

          // render&#x5BF9;&#x5E94;&#x7684;component&#x4E4B;&#x524D;&#x5148;&#x7528;&#x6700;&#x65B0;&#x7684;&#x53C2;&#x6570;match&#x66F4;&#x65B0;&#x4E0B;RouterContext
          // &#x8FD9;&#x6837;&#x4E0B;&#x5C42;&#x5D4C;&#x5957;&#x7684;Route&#x53EF;&#x4EE5;&#x62FF;&#x5230;&#x5BF9;&#x7684;&#x503C;
          return (
            &lt;RouterContext.Provider value={props}&gt;
              {props.match
                ? React.createElement(component, props)
                : null}
            &lt;/RouterContext.Provider&gt;
          );
        }}
      &lt;/RouterContext.Consumer&gt;
    );
  }
}

export default Route;
</code></pre>
<p>&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x4E5F;&#x662F;&#x7CBE;&#x7B80;&#x8FC7;&#x7684;&#xFF0C;&#x5B98;&#x65B9;&#x6E90;&#x7801;&#x8FD8;&#x652F;&#x6301;&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#x548C;<code>render</code>&#x65B9;&#x6CD5;&#x7B49;&#xFF0C;&#x5177;&#x4F53;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x8FD9;&#x91CC;&#xFF1A;<a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/modules/Route.js" target="_blank">https://github.com/ReactTraining/react-router/blob/master/packages/react-router/modules/Route.js</a></p>
<p>&#x5176;&#x5B9E;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;<code>React-Router</code>&#x7684;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#x8FD8;&#x7528;&#x5230;&#x4E86;<code>Switch</code>&#x548C;<code>Link</code>&#x7EC4;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x4E00;&#x8D77;&#x6765;&#x628A;&#x5B83;&#x5B9E;&#x73B0;&#x4E86;&#x5427;&#x3002;</p>
<h3 id="switch&#x7EC4;&#x4EF6;"><a name="switch&#x7EC4;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#switch&#x7EC4;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>Switch&#x7EC4;&#x4EF6;</h3>
<p>&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x7684;<code>Route</code>&#x7EC4;&#x4EF6;&#x7684;&#x529F;&#x80FD;&#x662F;&#x53EA;&#x8981;<code>path</code>&#x5339;&#x914D;&#x4E0A;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x5C31;&#x6E32;&#x67D3;&#x7EC4;&#x4EF6;&#xFF0C;&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x591A;&#x4E2A;<code>Route</code>&#x7684;<code>path</code>&#x90FD;&#x5339;&#x914D;&#x4E0A;&#x4E86;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#xFF0C;&#x8FD9;&#x51E0;&#x4E2A;&#x7EC4;&#x4EF6;&#x90FD;&#x4F1A;&#x6E32;&#x67D3;&#x3002;&#x6240;&#x4EE5;<code>Switch</code>&#x7EC4;&#x4EF6;&#x7684;&#x529F;&#x80FD;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#xFF0C;&#x5C31;&#x662F;&#x5373;&#x4F7F;&#x591A;&#x4E2A;<code>Route</code>&#x7684;<code>path</code>&#x90FD;&#x5339;&#x914D;&#x4E0A;&#x4E86;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#xFF0C;&#x4E5F;&#x53EA;&#x6E32;&#x67D3;&#x7B2C;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x4E0A;&#x7684;&#x7EC4;&#x4EF6;&#x3002;&#x8981;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x5176;&#x5B9E;&#x4E5F;&#x4E0D;&#x96BE;&#xFF0C;&#x628A;<code>Switch</code>&#x7684;<code>children</code>&#x62FF;&#x51FA;&#x6765;&#x5FAA;&#x73AF;&#xFF0C;&#x627E;&#x51FA;&#x7B2C;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x7684;<code>child</code>&#xFF0C;&#x7ED9;&#x5B83;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6807;&#x8BB0;&#x5C5E;&#x6027;<code>computedMatch</code>&#xFF0C;&#x987A;&#x4FBF;&#x628A;&#x5176;&#x4ED6;&#x7684;<code>child</code>&#x5168;&#x90E8;&#x5E72;&#x6389;&#xFF0C;&#x7136;&#x540E;&#x4FEE;&#x6539;&#x4E0B;<code>Route</code>&#x7684;&#x6E32;&#x67D3;&#x903B;&#x8F91;&#xFF0C;&#x5148;&#x68C0;&#x6D4B;<code>computedMatch</code>&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x518D;&#x4F7F;&#x7528;<code>matchPath</code>&#x81EA;&#x5DF1;&#x53BB;&#x5339;&#x914D;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;

<span class="hljs-keyword">import</span> RouterContext <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./RouterContext.js&quot;</span>;
<span class="hljs-keyword">import</span> matchPath <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./matchPath.js&quot;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Switch</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  render() {
    <span class="hljs-keyword">return</span> (
      &lt;RouterContext.Consumer&gt;
        {context =&gt; {
          const location = context.location;     // &#x4ECE;RouterContext&#x83B7;&#x53D6;location

          let element, match;     // &#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#x8BB0;&#x5F55;&#x7B2C;&#x4E00;&#x6B21;&#x5339;&#x914D;&#x4E0A;&#x7684;&#x5B50;&#x5143;&#x7D20;&#x548C;match&#x5C5E;&#x6027;

          // &#x4F7F;&#x7528;React.Children.forEach&#x6765;&#x904D;&#x5386;&#x5B50;&#x5143;&#x7D20;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;React.Children.toArray().find()
          // &#x56E0;&#x4E3A;toArray&#x4F1A;&#x7ED9;&#x6BCF;&#x4E2A;&#x5B50;&#x5143;&#x7D20;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;key&#xFF0C;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x4E24;&#x4E2A;&#x6709;&#x540C;&#x6837;component&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x540C;URL&#x7684;&lt;Route&gt;&#x91CD;&#x590D;&#x6E32;&#x67D3;
          React.Children.forEach(this.props.children, child =&gt; {
            // &#x5148;&#x68C0;&#x6D4B;&#x4E0B;match&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5339;&#x914D;&#x5230;&#x4E86;
            // &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5339;&#x914D;&#x8FC7;&#x4E86;&#xFF0C;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;
            if (!match &amp;&amp; React.isValidElement(child)) {
              element = child;

              const path = child.props.path;

              match = matchPath(location.pathname, { ...child.props, path });
            }
          });

          // &#x6700;&#x7EC8;&lt;Switch&gt;&#x7EC4;&#x4EF6;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x53EA;&#x662F;&#x5339;&#x914D;&#x5B50;&#x5143;&#x7D20;&#x7684;&#x4E00;&#x4E2A;&#x62F7;&#x8D1D;&#xFF0C;&#x5176;&#x4ED6;&#x5B50;&#x5143;&#x7D20;&#x88AB;&#x5FFD;&#x7565;&#x4E86;
          // match&#x5C5E;&#x6027;&#x4F1A;&#x88AB;&#x585E;&#x7ED9;&#x62F7;&#x8D1D;&#x5143;&#x7D20;&#x7684;computedMatch
          // &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x90FD;&#x6CA1;&#x5339;&#x914D;&#x4E0A;&#xFF0C;&#x8FD4;&#x56DE;null
          return match
            ? React.cloneElement(element, { location, computedMatch: match })   
            : null;
        }}
      &lt;/RouterContext.Consumer&gt;
    );
  }
}

export default Switch;
</code></pre>
<p>&#x7136;&#x540E;&#x4FEE;&#x6539;&#x4E0B;<code>Route</code>&#x7EC4;&#x4EF6;&#xFF0C;&#x8BA9;&#x4ED6;&#x5148;&#x68C0;&#x67E5;<code>computedMatch</code>&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// ... &#x7701;&#x7565;&#x5176;&#x4ED6;&#x4EE3;&#x7801; ...</span>
<span class="hljs-keyword">const</span> match = <span class="hljs-keyword">this</span>.props.computedMatch
              ? <span class="hljs-keyword">this</span>.props.computedMatch
              : matchPath(location.pathname, <span class="hljs-keyword">this</span>.props);  <span class="hljs-comment">// &#x8C03;&#x7528;matchPath&#x68C0;&#x6D4B;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x662F;&#x5426;&#x5339;&#x914D;</span>
</code></pre>
<p><code>Switch</code>&#x7EC4;&#x4EF6;&#x5176;&#x5B9E;&#x4E5F;&#x662F;&#x5728;<code>react-router</code>&#x91CC;&#x9762;&#xFF0C;&#x6E90;&#x7801;&#x8DDF;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x5199;&#x7684;&#x5DEE;&#x4E0D;&#x591A;&#xFF1A;<a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/modules/Switch.js" target="_blank">https://github.com/ReactTraining/react-router/blob/master/packages/react-router/modules/Switch.js</a></p>
<h3 id="link&#x7EC4;&#x4EF6;"><a name="link&#x7EC4;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#link&#x7EC4;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>Link&#x7EC4;&#x4EF6;</h3>
<p><code>Link</code>&#x7EC4;&#x4EF6;&#x529F;&#x80FD;&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x8DF3;&#x8F6C;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E0A;&#x8981;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x8DF3;&#x8F6C;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;<code>a</code>&#x6807;&#x7B7E;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>a</code>&#x6807;&#x7B7E;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x9875;&#x9762;&#x5237;&#x65B0;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x800C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;<code>history API</code>&#xFF0C;<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History" target="_blank"><code>history API</code>&#x5177;&#x4F53;&#x6587;&#x6863;&#x53EF;&#x4EE5;&#x770B;&#x8FD9;&#x91CC;</a>&#x3002;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x8981;&#x8DF3;&#x8F6C;URL&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>history.pushState</code>&#x3002;&#x4F7F;&#x7528;<code>history.pushState</code>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4E00;&#x4E0B;&#x51E0;&#x70B9;&#xFF1A;</p>
<blockquote>
<ol>
<li><code>history.pushState</code>&#x53EA;&#x4F1A;&#x6539;&#x53D8;<code>history</code>&#x72B6;&#x6001;&#xFF0C;&#x4E0D;&#x4F1A;&#x5237;&#x65B0;&#x9875;&#x9762;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#x5C31;&#x662F;&#x4F60;&#x7528;&#x4E86;&#x8FD9;&#x4E2A;API&#xFF0C;&#x4F60;&#x4F1A;&#x770B;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x680F;&#x7684;&#x5730;&#x5740;&#x53D8;&#x5316;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x9875;&#x9762;&#x5E76;&#x6CA1;&#x6709;&#x53D8;&#x5316;&#x3002;</li>
<li>&#x5F53;&#x4F60;&#x4F7F;&#x7528;<code>history.pushState</code>&#x6216;&#x8005;<code>history.replaceState</code>&#x6539;&#x53D8;<code>history</code>&#x72B6;&#x6001;&#x7684;&#x65F6;&#x5019;&#xFF0C;<code>popstate</code>&#x4E8B;&#x4EF6;&#x5E76;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#xFF0C;&#x6240;&#x4EE5;<code>history</code>&#x91CC;&#x9762;&#x7684;&#x56DE;&#x8C03;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x8C03;&#x7528;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x4F7F;&#x7528;<code>history.push</code>&#x7684;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x624B;&#x52A8;&#x8C03;&#x7528;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</li>
<li><code>history.pushState(state, title[, url])</code>&#x63A5;&#x6536;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;<code>state</code>&#x662F;&#x5F80;&#x65B0;&#x8DEF;&#x7531;&#x4F20;&#x9012;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x7A7A;&#xFF0C;&#x5B98;&#x65B9;<code>React-Router</code>&#x4F1A;&#x5F80;&#x91CC;&#x9762;&#x52A0;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x7684;<code>key</code>&#x548C;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x76F4;&#x63A5;&#x4E3A;&#x7A7A;&#x5427;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;<code>title</code>&#x76EE;&#x524D;&#x5927;&#x591A;&#x6570;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x4E0D;&#x652F;&#x6301;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x7ED9;&#x4E2A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;<code>url</code>&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x662F;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x7684;&#x5173;&#x952E;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x8981;&#x8DF3;&#x5F80;&#x7684;&#x76EE;&#x6807;&#x5730;&#x5740;&#x3002;</li>
<li>&#x7531;&#x4E8E;<code>history</code>&#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x4E86;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5E93;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x5C06;<code>history.pushState</code>&#x76F8;&#x5173;&#x5904;&#x7406;&#x52A0;&#x5230;<code>history</code>&#x5E93;&#x91CC;&#x9762;&#x3002;</li>
</ol>
</blockquote>
<p>&#x6211;&#x4EEC;&#x5148;&#x5728;<code>history</code>&#x91CC;&#x9762;&#x65B0;&#x52A0;&#x4E00;&#x4E2A;API<code>push</code>&#xFF0C;&#x8FD9;&#x4E2A;API&#x4F1A;&#x8C03;&#x7528;<code>history.pushState</code>&#x5E76;&#x624B;&#x52A8;&#x6267;&#x884C;&#x56DE;&#x8C03;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// ... &#x7701;&#x7565;&#x5176;&#x4ED6;&#x4EE3;&#x7801; ...</span>
push(url) {
  <span class="hljs-keyword">const</span> history = <span class="hljs-built_in">window</span>.history;
  <span class="hljs-comment">// &#x8FD9;&#x91CC;pushState&#x5E76;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;popstate</span>
  <span class="hljs-comment">// &#x4F46;&#x662F;&#x6211;&#x4EEC;&#x4ECD;&#x7136;&#x8981;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x6301;state&#x6808;&#x7684;&#x4E00;&#x81F4;&#x6027;</span>
  history.pushState(<span class="hljs-literal">null</span>, <span class="hljs-string">&apos;&apos;</span>, url);

  <span class="hljs-comment">// &#x7531;&#x4E8E;push&#x5E76;&#x4E0D;&#x89E6;&#x53D1;popstate&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x624B;&#x52A8;&#x8C03;&#x7528;&#x56DE;&#x8C03;&#x51FD;&#x6570;</span>
  location = { <span class="hljs-attr">pathname</span>: url };
  listeners.call(location);
}
</code></pre>
<p>&#x4E0A;&#x9762;&#x8BF4;&#x4E86;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>a</code>&#x6807;&#x7B7E;&#x4F1A;&#x5BFC;&#x81F4;&#x9875;&#x9762;&#x5237;&#x65B0;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;<code>a</code>&#x6807;&#x7B7E;&#xFF0C;<code>Link</code>&#x7EC4;&#x4EF6;&#x5E94;&#x8BE5;&#x6E32;&#x67D3;&#x4E2A;&#x4EC0;&#x4E48;&#x6807;&#x7B7E;&#x5728;&#x9875;&#x9762;&#x4E0A;&#x5462;&#xFF1F;&#x53EF;&#x4EE5;&#x968F;&#x4FBF;&#x6E32;&#x67D3;&#x4E2A;<code>span</code>&#xFF0C;<code>div</code>&#x4EC0;&#x4E48;&#x7684;&#x90FD;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x80FD;&#x4F1A;&#x8DDF;&#x5927;&#x5BB6;&#x5E73;&#x65F6;&#x7684;&#x4E60;&#x60EF;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x8FD8;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x4E00;&#x4E9B;&#x6837;&#x5F0F;&#x5931;&#x6548;&#xFF0C;&#x6240;&#x4EE5;&#x5B98;&#x65B9;&#x8FD8;&#x662F;&#x9009;&#x62E9;&#x4E86;&#x6E32;&#x67D3;&#x4E00;&#x4E2A;<code>a</code>&#x6807;&#x7B7E;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x53EA;&#x662F;&#x4F7F;&#x7528;<code>event.preventDefault</code>&#x7981;&#x6B62;&#x4E86;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#xFF0C;&#x7136;&#x540E;&#x7528;<code>history api</code>&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E86;&#x8DF3;&#x8F6C;&#xFF0C;&#x5F53;&#x7136;&#x4F60;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x4F20;<code>component</code>&#x53C2;&#x6570;&#x8FDB;&#x53BB;&#x6539;&#x53D8;&#x9ED8;&#x8BA4;&#x7684;<code>a</code>&#x6807;&#x7B7E;&#x3002;&#x56E0;&#x4E3A;&#x662F;<code>a</code>&#x6807;&#x7B7E;&#xFF0C;&#x4E0D;&#x80FD;&#x517C;&#x5BB9;<code>native</code>&#xFF0C;&#x6240;&#x4EE5;<code>Link</code>&#x7EC4;&#x4EF6;&#x5176;&#x5B9E;&#x662F;&#x5728;<code>react-router-dom</code>&#x8FD9;&#x4E2A;&#x5305;&#x91CC;&#x9762;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> RouterContext <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../react-router/RouterContext&quot;</span>;

<span class="hljs-comment">// LinkAnchor&#x53EA;&#x662F;&#x6E32;&#x67D3;&#x4E86;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#x7684;a&#x6807;&#x7B7E;</span>
<span class="hljs-comment">// &#x8DF3;&#x8F6C;&#x884C;&#x4E3A;&#x7531;&#x4F20;&#x8FDB;&#x6765;&#x7684;navigate&#x5B9E;&#x73B0;</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LinkAnchor</span>(<span class="hljs-params">{navigate, ...rest}</span>) </span>{
  <span class="hljs-keyword">let</span> props = {
    ...rest,
    <span class="hljs-attr">onClick</span>: <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
      event.preventDefault();
      navigate();
    }
  }

  <span class="hljs-keyword">return</span> &lt;a {...props} /&gt;;
}

function Link({
  component = LinkAnchor,  // component&#x9ED8;&#x8BA4;&#x662F;LinkAnchor
  to,
  ...rest
}) {
  return (
    &lt;RouterContext.Consumer&gt;
      {context =&gt; {
        const { history } = context;     // &#x4ECE;RouterContext&#x83B7;&#x53D6;history&#x5BF9;&#x8C61;

        const props = {
          ...rest,
          href: to,
          navigate() {
            history.push(to);
          }
        };

        return React.createElement(component, props);
      }}
    &lt;/RouterContext.Consumer&gt;
  );
}

export default Link;
</code></pre>
<p>&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x662F;&#x7CBE;&#x7B80;&#x7248;&#x7684;<code>Link</code>&#xFF0C;&#x57FA;&#x672C;&#x903B;&#x8F91;&#x8DDF;&#x5B98;&#x65B9;&#x6E90;&#x7801;&#x4E00;&#x6837;&#xFF1A;<a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/modules/Link.js" target="_blank">https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/modules/Link.js</a></p>
<p>&#x5230;&#x8FD9;&#x91CC;&#x5F00;&#x5934;&#x793A;&#x4F8B;&#x7528;&#x5230;&#x7684;&#x5168;&#x90E8;API&#x90FD;&#x6362;&#x6210;&#x4E86;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#xFF0C;&#x5176;&#x5B9E;&#x4E5F;&#x5B9E;&#x73B0;&#x4E86;<code>React-Router</code>&#x7684;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#x3002;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53EA;&#x5B9E;&#x73B0;&#x4E86;<code>H5 history</code>&#x6A21;&#x5F0F;&#xFF0C;<code>hash</code>&#x6A21;&#x5F0F;&#x5E76;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#xFF0C;&#x5176;&#x5B9E;&#x6709;&#x4E86;&#x8FD9;&#x4E2A;&#x67B6;&#x5B50;&#xFF0C;&#x6DFB;&#x52A0;<code>hash</code>&#x6A21;&#x5F0F;&#x4E5F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x4E86;&#xFF0C;&#x57FA;&#x672C;&#x67B6;&#x5B50;&#x4E0D;&#x53D8;&#xFF0C;&#x5728;<code>react-router-dom</code>&#x91CC;&#x9762;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;<code>HashRouter</code>,&#x4ED6;&#x7684;&#x57FA;&#x672C;&#x7ED3;&#x6784;&#x8DDF;<code>BrowserRouter</code>&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x53EA;&#x662F;&#x4ED6;&#x4F1A;&#x8C03;&#x7528;<code>history</code>&#x7684;<code>createHashHistory</code>&#xFF0C;<code>createHashHistory</code>&#x91CC;&#x9762;&#x4E0D;&#x4EC5;&#x4EC5;&#x4F1A;&#x53BB;&#x76D1;&#x542C;<code>popstate</code>&#xFF0C;&#x67D0;&#x4E9B;&#x6D4F;&#x89C8;&#x5668;&#x5728;<code>hash</code>&#x53D8;&#x5316;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;<code>popstate</code>&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x9700;&#x8981;&#x76D1;&#x542C;<code>hashchange</code>&#x4E8B;&#x4EF6;&#x3002;&#x5BF9;&#x5E94;&#x7684;&#x6E90;&#x7801;&#x5982;&#x4E0B;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x9605;&#x8BFB;&#xFF1A;</p>
<p><strong>HashRouter</strong>: <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/modules/HashRouter.js" target="_blank">https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/modules/HashRouter.js</a></p>
<p><strong>createHashHistory</strong>: <a href="https://github.com/ReactTraining/history/blob/28c89f4091ae9e1b0001341ea60c629674e83627/packages/history/index.ts#L616" target="_blank">https://github.com/ReactTraining/history/blob/28c89f4091ae9e1b0001341ea60c629674e83627/packages/history/index.ts#L616</a></p>
<h2 id="&#x603B;&#x7ED3;"><a name="&#x603B;&#x7ED3;" class="anchor-navigation-ex-anchor" href="#&#x603B;&#x7ED3;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x603B;&#x7ED3;</h2>
<p><code>React-Router</code>&#x7684;&#x6838;&#x5FC3;&#x6E90;&#x7801;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x8BFB;&#x5B8C;&#x4E86;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x603B;&#x7ED3;&#x4E0B;&#xFF1A;</p>
<ol>
<li><p><code>React-Router</code>&#x56E0;&#x4E3A;&#x6709;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x5206;&#x62C6;&#x4E86;&#x597D;&#x51E0;&#x4E2A;&#x5305;&#xFF0C;&#x8FD9;&#x51E0;&#x4E2A;&#x5305;&#x91C7;&#x7528;<code>monorepo</code>&#x7684;&#x65B9;&#x5F0F;&#x7BA1;&#x7406;&#xFF1A;</p>
<ol>
<li><code>react-router</code>&#x662F;&#x6838;&#x5FC3;&#x5305;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x5927;&#x90E8;&#x5206;&#x903B;&#x8F91;&#x548C;&#x7EC4;&#x4EF6;&#xFF0C;&#x5904;&#x7406;<code>context</code>&#x548C;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x90FD;&#x5728;&#x8FD9;&#x91CC;&#x3002;</li>
<li><code>react-router-dom</code>&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x5305;&#xFF0C;&#x50CF;<code>Link</code>&#x8FD9;&#x6837;&#x9700;&#x8981;&#x6E32;&#x67D3;&#x5177;&#x4F53;&#x7684;<code>a</code>&#x6807;&#x7B7E;&#x7684;&#x7EC4;&#x4EF6;&#x5C31;&#x5728;&#x8FD9;&#x91CC;&#x3002;</li>
<li><code>react-router-native</code>&#x662F;<code>react-native</code>&#x4F7F;&#x7528;&#x7684;&#x5305;&#xFF0C;&#x91CC;&#x9762;&#x5305;&#x542B;&#x4E86;<code>android</code>&#x548C;<code>ios</code>&#x5177;&#x4F53;&#x7684;&#x9879;&#x76EE;&#x3002;</li>
</ol>
</li>
<li><p>&#x6D4F;&#x89C8;&#x5668;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x4E5F;&#x5355;&#x72EC;&#x72EC;&#x7ACB;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x5305;<code>history</code>&#xFF0C;&#x8DDF;<code>history</code>&#x76F8;&#x5173;&#x7684;&#x5904;&#x7406;&#x90FD;&#x653E;&#x5728;&#x4E86;&#x8FD9;&#x91CC;&#xFF0C;&#x6BD4;&#x5982;<code>push</code>&#xFF0C;<code>replace</code>&#x4EC0;&#x4E48;&#x7684;&#x3002;</p>
</li>
<li><code>React-Router</code>&#x5B9E;&#x73B0;&#x65F6;&#x6838;&#x5FC3;&#x903B;&#x8F91;&#x5982;&#x4E0B;&#xFF1A;<ol>
<li>&#x4F7F;&#x7528;&#x4E0D;&#x5237;&#x65B0;&#x7684;&#x8DEF;&#x7531;API&#xFF0C;&#x6BD4;&#x5982;<code>history</code>&#x6216;&#x8005;<code>hash</code></li>
<li>&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x673A;&#x5236;&#xFF0C;&#x8BA9;<code>React</code>&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x76D1;&#x542C;&#x8DEF;&#x7531;&#x53D8;&#x5316;&#x3002;</li>
<li>&#x63D0;&#x4F9B;&#x64CD;&#x4F5C;&#x8DEF;&#x7531;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x5F53;&#x8DEF;&#x7531;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;&#x4E8B;&#x4EF6;&#x56DE;&#x8C03;&#x901A;&#x77E5;<code>React</code>&#x3002;</li>
<li>&#x5F53;&#x8DEF;&#x7531;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x65F6;&#xFF0C;&#x5C06;&#x53D8;&#x5316;&#x7684;&#x8DEF;&#x7531;&#x5199;&#x5165;&#x5230;<code>React</code>&#x7684;&#x54CD;&#x5E94;&#x5F0F;&#x6570;&#x636E;&#x4E0A;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5C06;&#x8FD9;&#x4E2A;&#x503C;&#x5199;&#x5230;&#x6839;<code>router</code>&#x7684;<code>state</code>&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;<code>context</code>&#x4F20;&#x7ED9;&#x5B50;&#x7EC4;&#x4EF6;&#x3002;</li>
<li>&#x5177;&#x4F53;&#x6E32;&#x67D3;&#x65F6;&#x5C06;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x7684;<code>path</code>&#x548C;&#x5F53;&#x524D;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x505A;&#x4E00;&#x4E2A;&#x5BF9;&#x6BD4;&#xFF0C;&#x5339;&#x914D;&#x4E0A;&#x5C31;&#x6E32;&#x67D3;&#x5BF9;&#x5E94;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</li>
</ol>
</li>
<li>&#x5728;&#x4F7F;&#x7528;<code>popstate</code>&#x65F6;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF1A;<ol>
<li>&#x539F;&#x751F;<code>history.pushState</code>&#x548C;<code>history.replaceState</code>&#x5E76;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;<code>popstate</code>&#xFF0C;&#x8981;&#x901A;&#x77E5;<code>React</code>&#x9700;&#x8981;&#x6211;&#x4EEC;&#x624B;&#x52A8;&#x8C03;&#x7528;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</li>
<li>&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x524D;&#x8FDB;&#x540E;&#x9000;&#x6309;&#x94AE;&#x4F1A;&#x89E6;&#x53D1;<code>popstate</code>&#x4E8B;&#x4EF6;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x8981;&#x76D1;&#x542C;<code>popstate</code>&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x517C;&#x5BB9;&#x524D;&#x8FDB;&#x540E;&#x9000;&#x6309;&#x94AE;&#x3002;</li>
</ol>
</li>
</ol>
<p><strong>&#x672C;&#x6587;&#x5168;&#x90E8;&#x4EE3;&#x7801;&#x5DF2;&#x7ECF;&#x4E0A;&#x4F20;GitHub&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x62FF;&#x4E0B;&#x6765;&#x73A9;&#x73A9;&#xFF1A;<a href="https://github.com/dennis-jiang/Front-End-Knowledges/tree/master/Examples/React/react-router-code" target="_blank">https://github.com/dennis-jiang/Front-End-Knowledges/tree/master/Examples/React/react-router-code</a></strong></p>
<h2 id="&#x53C2;&#x8003;&#x8D44;&#x6599;"><a name="&#x53C2;&#x8003;&#x8D44;&#x6599;" class="anchor-navigation-ex-anchor" href="#&#x53C2;&#x8003;&#x8D44;&#x6599;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x53C2;&#x8003;&#x8D44;&#x6599;</h2>
<p>&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;<a href="https://reactrouter.com/web/guides/quick-start" target="_blank">https://reactrouter.com/web/guides/quick-start</a></p>
<p>GitHub&#x6E90;&#x7801;&#x5730;&#x5740;&#xFF1A;<a href="https://github.com/ReactTraining/react-router/tree/master/packages" target="_blank">https://github.com/ReactTraining/react-router/tree/master/packages</a></p>
<p><strong>&#x6587;&#x7AE0;&#x7684;&#x6700;&#x540E;&#xFF0C;&#x611F;&#x8C22;&#x4F60;&#x82B1;&#x8D39;&#x5B9D;&#x8D35;&#x7684;&#x65F6;&#x95F4;&#x9605;&#x8BFB;&#x672C;&#x6587;&#xFF0C;&#x5982;&#x679C;&#x672C;&#x6587;&#x7ED9;&#x4E86;&#x4F60;&#x4E00;&#x70B9;&#x70B9;&#x5E2E;&#x52A9;&#x6216;&#x8005;&#x542F;&#x53D1;&#xFF0C;&#x8BF7;&#x4E0D;&#x8981;&#x541D;&#x556C;&#x4F60;&#x7684;&#x8D5E;&#x548C;GitHub&#x5C0F;&#x661F;&#x661F;&#xFF0C;&#x4F60;&#x7684;&#x652F;&#x6301;&#x662F;&#x4F5C;&#x8005;&#x6301;&#x7EED;&#x521B;&#x4F5C;&#x7684;&#x52A8;&#x529B;&#x3002;</strong></p>
<p><strong>&#x4F5C;&#x8005;&#x535A;&#x6587;GitHub&#x9879;&#x76EE;&#x5730;&#x5740;&#xFF1A; <a href="https://github.com/dennis-jiang/Front-End-Knowledges" target="_blank">https://github.com/dennis-jiang/Front-End-Knowledges</a></strong></p>
<p><strong>&#x4F5C;&#x8005;&#x6398;&#x91D1;&#x6587;&#x7AE0;&#x6C47;&#x603B;&#xFF1A;<a href="https://juejin.im/post/5e3ffc85518825494e2772fd" target="_blank">https://juejin.im/post/5e3ffc85518825494e2772fd</a></strong></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="React-Router_Usage.html" class="navigation navigation-prev " aria-label="Previous page: React-Router实现前端路由鉴权">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../Node/Node.html" class="navigation navigation-next " aria-label="Next page: Node.js">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"手写React-Router源码","level":"1.6.7","depth":2,"next":{"title":"Node.js","level":"1.7","depth":1,"path":"Articles/Node/Node.md","ref":"Articles/Node/Node.md","articles":[{"title":"模块加载机制，手写require","level":"1.7.1","depth":2,"path":"Articles/Node/DeepInNodeModules.md","ref":"Articles/Node/DeepInNodeModules.md","articles":[]},{"title":"使用Node.js原生API写一个web服务器","level":"1.7.2","depth":2,"path":"Articles/Node/HttpServer.md","ref":"Articles/Node/HttpServer.md","articles":[]},{"title":"手写Express.js源码","level":"1.7.3","depth":2,"path":"Articles/Node/Express.md","ref":"Articles/Node/Express.md","articles":[]},{"title":"手写Koa源码","level":"1.7.4","depth":2,"path":"Articles/Node/Koa.md","ref":"Articles/Node/Koa.md","articles":[]},{"title":"手写@koa/router源码","level":"1.7.5","depth":2,"path":"Articles/Node/KoaRouter.md","ref":"Articles/Node/KoaRouter.md","articles":[]},{"title":"手写koa-static源码，深入理解静态服务器原理","level":"1.7.6","depth":2,"path":"Articles/Node/KoaStatic.md","ref":"Articles/Node/KoaStatic.md","articles":[]}]},"previous":{"title":"React-Router实现前端路由鉴权","level":"1.6.6","depth":2,"path":"Articles/React/React-Router_Usage.md","ref":"Articles/React/React-Router_Usage.md","articles":[]},"dir":"ltr"},"config":{"plugins":["highlight","search-pro","livereload","back-to-top-button","github","-sharing","sharing-plus","chapter-fold","anchor-navigation-ex","katex","icp","livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"chapter-fold":{},"github":{"url":"https://github.com/dennis-jiang/Front-End-Knowledges"},"livereload":{},"search-pro":{},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"katex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":false,"showLevel":false},"icp":{"link":"http://www.beian.miit.gov.cn/","style":{},"number":"苏ICP备16008535号"},"back-to-top-button":{},"sharing":{"weibo":true,"qq":true,"all":["douban","linkedin","qzone","facebook","twitter","google"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Dennis Jiang","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"前端进阶","language":"zh-hans","gitbook":"3.2.3","description":"前端知识总结"},"file":{"path":"Articles/React/React-Router_Code.md","mtime":"2020-10-26T02:23:21.430Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-01-05T08:39:03.881Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

